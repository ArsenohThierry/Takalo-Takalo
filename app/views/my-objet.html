<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roman policier vintage - Détails | Takalo-Takalo</title>
    <link rel="stylesheet" href="objets.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://img.icons8.com/color/96/000000/swap.png">
</head>
<body>
    <div class="container">
        <!-- Header avec navigation -->
        <header class="page-header">
            <nav class="navbar">
                <a href="accueil.html" class="navbar-brand">
                    <div class="logo-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <h1 class="logo-text">Takalo-<span>Takalo</span></h1>
                </a>
                
                <button class="navbar-toggle" aria-label="Menu mobile">
                    <i class="fas fa-bars"></i>
                </button>
                
                <ul class="navbar-menu">
                    <li class="nav-item">
                        <a href="accueil.html" class="nav-link">
                            <i class="fas fa-home"></i>
                            <span>Accueil</span>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a href="mes-objets.html" class="nav-link">
                            <i class="fas fa-box-open"></i>
                            <span>Mes objets</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="login.html" class="nav-link logout-btn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Déconnexion</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </header>

        <!-- Contenu principal -->
        <main class="main-content">
            <div class="my-objet-container">
                <!-- Navigation -->
                <nav class="breadcrumb">
                    <a href="accueil.html">Accueil</a>
                    <i class="fas fa-chevron-right"></i>
                    <a href="mes-objets.html">Mes objets</a>
                    <i class="fas fa-chevron-right"></i>
                    <span>Roman policier vintage</span>
                </nav>

                <!-- Fiche de l'objet -->
                <div class="objet-fiche">
                    <div class="fiche-header">
                        <h1 class="objet-title">Roman policier vintage</h1>
                        <div class="objet-status disponible">
                            <i class="fas fa-check-circle"></i>
                            Disponible
                        </div>
                    </div>
                    
                    <div class="fiche-content">
                        <div class="objet-image-large">
                            <img src="https://images.unsplash.com/photo-1544947950-fa07a98d237f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" 
                                 alt="Roman policier vintage">
                        </div>
                        
                        <div class="objet-details">
                            <div class="detail-section">
                                <h3 class="section-title">
                                    <i class="fas fa-info-circle"></i>
                                    Description
                                </h3>
                                <p class="objet-description">
                                    Édition originale de 1962 du roman policier "L'Énigme du Manoir Gris" par l'auteur renommé Jacques Moreau. 
                                    Ce livre rare a été conservé dans d'excellentes conditions pendant plus de 60 ans.
                                </p>
                                <p class="objet-description">
                                    Couverture rigide en bon état, pages intérieures jaunies mais intactes. Signature de l'auteur en page de garde. 
                                    Jaquette d'origine légèrement usée aux bords. 320 pages, édition complète.
                                </p>
                            </div>
                            
                            <div class="detail-section">
                                <h3 class="section-title">
                                    <i class="fas fa-tags"></i>
                                    Détails
                                </h3>
                                <div class="details-grid">
                                    <div class="detail-item">
                                        <span class="detail-label">Catégorie</span>
                                        <span class="detail-value">Livre</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">État</span>
                                        <span class="detail-value">Excellent</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Publié le</span>
                                        <span class="detail-value">15 mars 2023</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Vues</span>
                                        <span class="detail-value">247</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tableau des propositions d'échange -->
                <div class="propositions-section">
                    <h2 class="section-title">
                        <i class="fas fa-exchange-alt"></i>
                        Demandes d'échange
                        <span class="propositions-count">(3 propositions)</span>
                    </h2>
                    
                    <div class="propositions-table">
                        <!-- Proposition 1 -->
                        <div class="proposition-row">
                            <div class="proposition-user">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Pierre D." 
                                     class="user-avatar">
                                <div class="user-info">
                                    <span class="user-name">Pierre D.</span>
                                    <div class="user-rating">
                                        <i class="fas fa-star"></i>
                                        <span>4.7</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="proposition-objet">
                                <img src="https://images.unsplash.com/photo-1515378960530-7c0da6231fb1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Appareil photo argentique" 
                                     class="objet-thumb">
                                <div class="objet-info">
                                    <span class="objet-title">Appareil photo argentique</span>
                                    <span class="objet-description">Années 70, parfait état</span>
                                </div>
                            </div>
                            
                            <div class="proposition-date">
                                20 mai 2023
                            </div>
                            
                            <div class="proposition-actions">
                                <button class="btn-accept">
                                    <i class="fas fa-check"></i>
                                    Accepter
                                </button>
                                <button class="btn-refuse">
                                    <i class="fas fa-times"></i>
                                    Refuser
                                </button>
                            </div>
                        </div>

                        <!-- Proposition 2 -->
                        <div class="proposition-row">
                            <div class="proposition-user">
                                <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Sophie M." 
                                     class="user-avatar">
                                <div class="user-info">
                                    <span class="user-name">Sophie M.</span>
                                    <div class="user-rating">
                                        <i class="fas fa-star"></i>
                                        <span>4.9</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="proposition-objet">
                                <img src="https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Collection de vinyles" 
                                     class="objet-thumb">
                                <div class="objet-info">
                                    <span class="objet-title">Collection de vinyles rock</span>
                                    <span class="objet-description">10 vinyles années 70-80</span>
                                </div>
                            </div>
                            
                            <div class="proposition-date">
                                18 mai 2023
                            </div>
                            
                            <div class="proposition-actions">
                                <button class="btn-accept">
                                    <i class="fas fa-check"></i>
                                    Accepter
                                </button>
                                <button class="btn-refuse">
                                    <i class="fas fa-times"></i>
                                    Refuser
                                </button>
                            </div>
                        </div>

                        <!-- Proposition 3 -->
                        <div class="proposition-row">
                            <div class="proposition-user">
                                <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Thomas R." 
                                     class="user-avatar">
                                <div class="user-info">
                                    <span class="user-name">Thomas R.</span>
                                    <div class="user-rating">
                                        <i class="fas fa-star"></i>
                                        <span>4.5</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="proposition-objet">
                                <img src="https://images.unsplash.com/photo-1507473885765-e6ed057f782c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Lampadaire design" 
                                     class="objet-thumb">
                                <div class="objet-info">
                                    <span class="objet-title">Lampadaire design années 80</span>
                                    <span class="objet-description">Style rétro, parfait état</span>
                                </div>
                            </div>
                            
                            <div class="proposition-date">
                                15 mai 2023
                            </div>
                            
                            <div class="proposition-actions">
                                <button class="btn-accept">
                                    <i class="fas fa-check"></i>
                                    Accepter
                                </button>
                                <button class="btn-refuse">
                                    <i class="fas fa-times"></i>
                                    Refuser
                                </button>
                            </div>
                        </div>

                        <!-- Proposition déjà acceptée (exemple) -->
                        <div class="proposition-row accepted">
                            <div class="proposition-user">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Jean P." 
                                     class="user-avatar">
                                <div class="user-info">
                                    <span class="user-name">Jean P.</span>
                                    <div class="user-rating">
                                        <i class="fas fa-star"></i>
                                        <span>4.8</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="proposition-objet">
                                <img src="https://images.unsplash.com/photo-1588449668365-d15e397f6787?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" 
                                     alt="Guitare acoustique" 
                                     class="objet-thumb">
                                <div class="objet-info">
                                    <span class="objet-title">Guitare acoustique vintage</span>
                                    <span class="objet-description">Années 60, excellent état</span>
                                </div>
                            </div>
                            
                            <div class="proposition-date">
                                10 avril 2023
                            </div>
                            
                            <div class="proposition-status accepted">
                                <i class="fas fa-check-circle"></i>
                                Acceptée
                            </div>
                        </div>
                    </div>
                    
                    <!-- Message si aucune proposition -->
                    <div class="no-propositions" style="display: none;">
                        <i class="fas fa-exchange-alt"></i>
                        <h3>Aucune demande d'échange</h3>
                        <p>Vous n'avez pas encore reçu de proposition d'échange pour cet objet.</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="page-footer">
            <div class="footer-content">
                <p class="footer-text">ETU004031 - ETU004273 - ETU004183</p>
                <p class="footer-copyright">© 2023 Takalo-Takalo - Plateforme d'échange d'objets</p>
                <div class="footer-links">
                    <a href="#">Conditions d'utilisation</a>
                    <a href="#">Politique de confidentialité</a>
                    <a href="#">Contact</a>
                    <a href="#">À propos</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Script pour les interactions -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Menu mobile
            const navbarToggle = document.querySelector('.navbar-toggle');
            if (navbarToggle) {
                navbarToggle.addEventListener('click', function() {
                    const navbarMenu = document.querySelector('.navbar-menu');
                    navbarMenu.classList.toggle('show');
                    this.innerHTML = navbarMenu.classList.contains('show') 
                        ? '<i class="fas fa-times"></i>' 
                        : '<i class="fas fa-bars"></i>';
                });
            }
            
            // Actions sur les boutons Accepter/Refuser
            const acceptButtons = document.querySelectorAll('.btn-accept');
            const refuseButtons = document.querySelectorAll('.btn-refuse');
            
            acceptButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const row = this.closest('.proposition-row');
                    const userName = row.querySelector('.user-name').textContent;
                    const objetTitle = row.querySelector('.objet-title').textContent;
                    
                    if (confirm(`Accepter l'échange avec ${userName} ?\n\nVous recevrez : ${objetTitle}\n${userName} recevra : Roman policier vintage`)) {
                        // Changer l'apparence de la ligne
                        row.classList.add('accepted');
                        row.classList.remove('pending');
                        
                        // Remplacer les boutons par le statut
                        const actionsDiv = row.querySelector('.proposition-actions');
                        if (actionsDiv) {
                            actionsDiv.innerHTML = `
                                <div class="proposition-status accepted">
                                    <i class="fas fa-check-circle"></i>
                                    Acceptée
                                </div>
                            `;
                        }
                        
                        alert(`Échange accepté ! Un message a été envoyé à ${userName} pour organiser la rencontre.`);
                    }
                });
            });
            
            refuseButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    const row = this.closest('.proposition-row');
                    const userName = row.querySelector('.user-name').textContent;
                    
                    if (confirm(`Refuser la proposition de ${userName} ?`)) {
                        // Optionnel : demander une raison
                        const reason = prompt(`Raison du refus (optionnel) :`);
                        
                        // Supprimer la ligne avec animation
                        row.style.opacity = '0.5';
                        row.style.transform = 'translateX(-20px)';
                        
                        setTimeout(() => {
                            row.remove();
                            
                            // Mettre à jour le compteur
                            const countElement = document.querySelector('.propositions-count');
                            if (countElement) {
                                const currentCount = parseInt(countElement.textContent.match(/\d+/)[0]);
                                const newCount = currentCount - 1;
                                countElement.textContent = `(${newCount} proposition${newCount > 1 ? 's' : ''})`;
                                
                                // Afficher message si plus de propositions
                                if (newCount === 0) {
                                    document.querySelector('.no-propositions').style.display = 'flex';
                                }
                            }
                        }, 300);
                        
                        alert(`Proposition refusée${reason ? ' : ' + reason : ''}.`);
                    }
                });
            });
        });
    </script>
</body>
</html>